# -*- coding: utf-8 -*-
"""cars2.ipynb

Automatically generated by Colaboratory.

Original file is located at
    https://colab.research.google.com/drive/15870t6EU2A_JoGBZrxfDcu4bmW5V0k6R
"""

import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
import seaborn as sns
import streamlit as st
from PIL import Image
logo = Image.open('logo1.png')
#pip install pandas numpy matplotlib seaborn streamlit
#to run strealit :   streamlit run test2.py 
st.set_page_config(page_title=" CARS EDA", page_icon=":bar_chart:", layout="wide")
st.image(logo)
st.title("ð™´ðš‡ð™¿ð™»ð™¾ðšð™°ðšƒð™¾ðšðšˆâ€€ð™³ð™°ðšƒð™°â€€ð™°ð™½ð™°ð™»ðšˆðš‚ð™¸ðš‚â€€(ð™´ð™³ð™°)")
# File upload
uploaded_file = st.file_uploader("ðš„ð™¿ð™»ð™¾ð™°ð™³â€€ð™°â€€ð™²ð™°ðšðš‚â€€ð™³ð™°ðšƒð™°â€€ðš‚ð™´ðšƒâ€€:")
if uploaded_file is not None:
    data=pd.read_csv(uploaded_file)
    st.dataframe(data)
    names = ["ðŸ¸ðŸ·ð™°ðŸ¸ðŸ·ð™°ðŸ¼ðŸ·ðŸ·ðŸ¹â€€â€“â€€ð™¶â€€ð™ºâ€€ð™±ð™·ð™°ðš‚ð™ºð™°ðš","ðŸ¸ðŸ·ð™°ðŸ¸ðŸ·ð™°ðŸ¼ðŸ·ðŸ¹ðŸ¹â€€â€“â€€ð™»â€€ð™·ð™°ðšðš‚ð™·ð™°â€€ðš…ð™°ðšð™³ð™·ð™°ð™½","ðŸ¸ðŸ·ð™°ðŸ¸ðŸ·ð™°ðŸ¼ðŸ·ðŸ¶ðŸ¾â€€â€“â€€ð™¶â€€ðš‚ðš†ð™°ðšðš„ð™¿ð™°","ðŸ¸ðŸ·ð™°ðŸ¸ðŸ·ð™°ðŸ¼ðŸ·ðŸ¸ðŸ¶â€€â€“â€€ð™ºâ€€ð™¿ðšð™°ðš‚ð™°ð™³","ðŸ¸ðŸ·ð™°ðŸ¸ðŸ·ð™°ðŸ¼ðŸ·ðŸ¸ðŸ¾â€€â€“â€€ð™ºâ€€ðš‚ð™·ðšˆð™°ð™¼ð™°ð™»ð™°","ðŸ¸ðŸ·ð™°ðŸ¸ðŸ·ð™°ðŸ¼ðŸ·ðŸ·ðŸ¶â€€â€“â€€ð™³â€€ðš‚ð™·ðšˆð™°ð™¼","ðŸ¸ðŸ·ð™°ðŸ¸ðŸ·ð™°ðŸ¼ðŸ·ðŸ¸ðŸ¸â€€â€“â€€ð™ºâ€€ðš„ð™¼ð™°â€€ðš‚ð™°ð™¸","ðŸ¸ðŸ¶ð™°ðŸ¸ðŸ·ð™°ðŸ¼ðŸ·ðŸ¶ðŸ¾â€€â€“â€€ð™±â€€ðš‚ð™°ð™¸â€€ðšð™°ð™¼"]
    st.sidebar.title("ð™¿ðšð™¾ð™¹ð™´ð™²ðšƒâ€€ðšƒð™´ð™°ð™¼â€€ð™¼ð™´ð™¼ð™±ð™´ðšðš‚ :")

    for name in names:
        st.sidebar.write(name)

    st.sidebar.title("ðš„ð™½ð™³ð™´ðšâ€€ðšƒð™·ð™´â€€ð™¶ðš„ð™¸ð™³ð™´ð™½ð™²ð™´â€€ð™¾ð™µâ€€:")
    st.sidebar.write(" ð™³ðšâ€€ð™±ð™¾ð™¼ð™¼ð™°â€€ðšð™°ð™¼ð™ºðšð™¸ðš‚ð™·ð™½ð™°")
    st.title("ð™²ð™°ðšðš‚â€€ð™³ð™°ðšƒð™°â€€ð™°ð™½ð™°ð™»ðšˆðš‚ð™¸ðš‚")
    if st.checkbox("ðšð™°ðš†â€€ð™³ð™°ðšƒð™°â€€:"):
        st.write(data)
    if st.checkbox("RAW DATA INFO :"):
      st.write("NULL VALUES IN EACH COLUMN :")
      st.write(data.isnull().sum())
    if st.checkbox("DATA CLEANING OR PREPROCESIONG :"):
      data=data.dropna()
      st.write(data)
    if st.checkbox("DATA INFO AFTER CLEANING :"):
      st.write("NULL VALUES IN EACH COLUMN :")
      st.write(data.isnull().sum())      
    if st.checkbox("ðš‚ð™·ð™¾ðš†â€€ð™µð™¸ðšðš‚ðšƒâ€€ðŸ¸ðŸ»â€€ðšð™¾ðš†ðš‚â€€:"):
        st.write(data.head(25))

    if st.checkbox(" ðš‚ð™·ð™¾ðš†â€€ðš‚ð™·ð™°ð™¿ð™´ :"):
        st.write("SHAPE :",data.shape)
        
    if st.checkbox("BASIC DETAILS ABOUT MANUFACTURERS :"):
        if st.checkbox("DIFFERENT TYPES OF MANUFACTURERS AND THIER COUNTS :"):
          st.write(data['Make'].value_counts())

        if st.checkbox("ð™¼ð™°ð™½ðš„ð™µð™°ð™²ðšƒðš„ðšð™´ðš â€€ðš†ð™·ð™¾â€€ð™¿ðšð™¾ð™³ðš„ð™²ð™´ðš‚â€€ðš‚ð™´ð™³ð™°ð™½â€€ð™¼ð™¾ð™³ð™´ð™»â€€ð™²ð™°ðšðš‚â€€:"):
            data1=data.where(data['Type']=='Sedan')['Make'].unique()
            st.write(data1[1:])
        if st.checkbox("ð™¼ð™¾ð™³ð™´ð™»â€€ðšƒðšˆð™¿ð™´â€€ðšƒð™¾â€€ð™²ð™·ð™´ð™²ð™ºâ€€ðšƒð™·ð™´â€€ð™¼ð™°ð™½ðš„ð™µð™°ð™²ðšƒðš„ðšð™´ðšðš‚â€€:"):
            st.write("PLEASE CHOOSE MODELS FROM THE ABOVE LIST :",data['Type'].unique())
            x=st.text_input("PLEASE ENTER MODEL TYPE :")
            data1=data.where(data['Type']==x)['Make'].unique()
            st.write(data1[1:])
        if st.checkbox("SHOW ALL THE RECORDS ARE ORIGIN IN EUROPE OR ASIA"):
          st.write(data[data['Origin'].isin(['Asia', 'Europe'])])
          st.write(data['Origin'].value_counts())
    if st.checkbox("INCREASE MPG_CITY OF ALL MODELS WITH 3 THAT HAVE HORSE POWER MORE THAN 200"):
      data[data['Horsepower']>200]
      st.write(data['MPG_City'] = data['MPG_City'].apply(lambda x:x+3))
    if st.checkbox("SHOW DATA VISULIAZATIONS "):
      if st.checkbox("HISTOGRAM THAT SHOWS COUNT OF DIFFERENT MAKES "):
        fig, ax = plt.subplots()
        sns.histplot(data=data, x="Make", ax=ax)
        ax.set_xlabel("MAKE")
        ax.set_ylabel("Count")
        # Display histogram
        st.pyplot(fig)
      if st.checkbox("SCATTER PLOT"):
        fig, ax = plt.subplots()
        sns.scatterplot(data=data, x="MPG_CITY", y="MPG_HIGHWAY", ax=ax)
        ax.set_xlabel("MPG_CITY")
        ax.set_ylabel("MPG_HIGHWAY")
        # Display scatterplot
        st.pyplot(fig)